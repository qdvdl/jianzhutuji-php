webpackJsonp([1],{"+WGh":function(e,t){},0:function(e,t){},1:function(e,t){},"1OS7":function(e,t){},2:function(e,t){},"2LNc":function(e,t){},"4l6K":function(e,t){},"6Qzd":function(e,t){},"6Tp1":function(e,t){},"9YCp":function(e,t){},AvB4:function(e,t){},HWxn:function(e,t){},Higc:function(e,t){},"Hw+a":function(e,t){},Iqg4:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),o={name:"SideMenu",data:function(){return{uopened:!1}},props:{collapse:Boolean,menu:Object|Array},computed:{active:function(){return this.$store.getters.getData.active}},methods:{link:function(e,t){this.$route.name!=e&&(this.$router.replace({name:e}),this.$emit("eventTo",{index:t,meta:this.$route.matched[0].meta}))}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.active,"unique-opened":e.uopened,"collapse-transition":!1,collapse:e.collapse}},[a("el-menu-item",{attrs:{index:"0"},on:{click:function(t){return e.link("home","0")}}},[a("i",{staticClass:"el-icon-s-home"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("首页")])]),e._v(" "),e._l(e.menu,function(t){return a("el-submenu",{key:t.id,attrs:{index:t.id}},[a("template",{slot:"title"},[a("i",{class:t.icon}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])]),e._v(" "),a("el-menu-item-group",e._l(t.children,function(t){return a("el-menu-item",{key:t.id,attrs:{index:t.id},on:{click:function(a){return e.link(t.name,t.id)}}},[a("i",{class:t.icon}),e._v(e._s(t.title))])}),1)],2)})],2)],1)},staticRenderFns:[]};var r=a("VU/8")(o,s,!1,function(e){a("nA/X")},null,null).exports,n=a("YZ0n"),l={components:{VueCropper:n.VueCropper},name:"imgCrop",data:function(){return{mode:"auto",autoCrop:!0,fixedBox:!0,canMoveBox:!1,canMove:!0,centerBox:!1,infoTrue:!1,blobimg:"",isShowBlob:!1}},props:{img:String,croppParame:Array|Object},mounted:function(){},methods:{imgOperation:function(e){var t=this;"size_sx"===e?this.$refs.cropper.changeScale(-5):"size_fd"===e?this.$refs.cropper.changeScale(5):"crop"===e?(this.$refs.cropper.startCrop(),this.$refs.cropper.getCropData(function(e){t.$emit("getCropDatas",{data:e})})):"rotateLeft"===e?this.$refs.cropper.rotateLeft():"rotateRight"===e&&this.$refs.cropper.rotateRight()},realTime:function(e){}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"croppers",style:{width:"100%",height:e.croppParame.croppersH}},[a("VueCropper",{ref:"cropper",attrs:{canMoveBox:e.canMoveBox,fixedBox:e.fixedBox,autoCrop:e.autoCrop,autoCropWidth:e.croppParame.autoCropWidth,autoCropHeight:e.croppParame.autoCropHeight,mode:e.mode,img:e.img,infoTrue:e.infoTrue,centerBox:e.centerBox,canMove:e.canMove,outputSize:1},on:{realTime:e.realTime}})],1),e._v(" "),a("div",{staticClass:"cropper-btn"},[a("el-button",{attrs:{title:"放大",type:"primary",icon:"el-icon-zoom-in",circle:""},on:{click:function(t){return e.imgOperation("size_fd")}}}),e._v(" "),a("el-button",{attrs:{title:"缩小",type:"success",icon:"el-icon-zoom-out",circle:""},on:{click:function(t){return e.imgOperation("size_sx")}}}),e._v(" "),a("el-button",{attrs:{title:"裁剪",type:"info",icon:"el-icon-camera",circle:""},on:{click:function(t){return e.imgOperation("crop")}}}),e._v(" "),a("el-button",{attrs:{title:"左旋转",type:"warning",icon:"el-icon-refresh-left",circle:""},on:{click:function(t){return e.imgOperation("rotateLeft")}}}),e._v(" "),a("el-button",{attrs:{title:"右旋转",type:"danger",icon:"el-icon-refresh-right",circle:""},on:{click:function(t){return e.imgOperation("rotateRight")}}})],1)])},staticRenderFns:[]};var p=a("VU/8")(l,c,!1,function(e){a("aCEC")},null,null).exports,d={name:"imgPreview",data:function(){return{slide1:[{src:"https://farm6.staticflickr.com/5591/15008867125_68a8ed88cc_b.jpg",msrc:"https://farm6.staticflickr.com/5591/15008867125_68a8ed88cc_m.jpg",alt:"picture1",title:"Image Caption 1",w:600,h:400},{src:"https://farm4.staticflickr.com/3902/14985871946_86abb8c56f_b.jpg",msrc:"https://farm4.staticflickr.com/3902/14985871946_86abb8c56f_m.jpg",alt:"picture2",title:"Image Caption 2",w:1200,h:900}]}},props:{preview:Array|Object},methods:{handleClose:function(){}}},u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("vue-preview",{attrs:{slides:this.slide1},on:{close:this.handleClose}})],1)},staticRenderFns:[]};var m={components:{ImgCrop:p,ImgPreview:a("VU/8")(d,u,!1,function(e){a("XP+D")},null,null).exports},name:"upload",data:function(){return{isShowBlob:!1,dialogVisible:!1,thisIndex:"",activeIndex:"",activeIndexs:"",imgSrc:"",loading:null,isEdit:"",http:this.$http,accept:"image/png,image/jpeg,image/jpg,image/gif,image/pjpeg,image/bmp,image/x-png",cropimg:"",drawer:!1,blobimg:"",croppParames:{croppersW:"800px",croppersH:"400px",autoCropWidth:"600",autoCropHeight:"200",top:"30vh",topCrop:"20vh"}}},props:{parame:Object,imgList:Object|Array,item:Number|String,name:String,isCrop:Boolean,croppParame:Object},methods:{uploadCropper:function(){var e=this,t=this.parame,a=t.action,i=t.data;this.loading=this.$loading({lock:!0,text:"正在上传",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),this.$request({type:"post",url:a,data:{path:i.path,isBase64:1,base64:this.blobimg},success:function(t){e.loading.close(),200===t.code?(console.log(e.isEdit),"add"===e.isEdit&&e.setData({type:"add",index:e.imgList.length},t.data.path),"edit"===e.isEdit&&e.setData({type:"edit",index:e.activeIndexs},t.data.path),e.isShowBlob=!1,e.drawer=!1):e.$message({showClose:!0,message:t.msg,type:"error"})},error:function(t){e.$message.error(t)}})},getCropDatas:function(e){var t=e.data;this.isShowBlob=!0,this.blobimg=t},handSuccess:function(e,t,a){var i=this;setTimeout(function(){i.loading.close(),200===e.code?i.setData({type:"add",index:i.imgList.length},e.data.path):i.$message.error(e.msg)},300)},editSuccess:function(e,t,a){var i=this;setTimeout(function(){i.loading.close(),200===e.code?i.setData({type:"edit",index:i.activeIndexs},e.data.path):i.$message.error(e.msg)},300)},mover:function(e){this.thisIndex=e,this.activeIndex=e,this.isEdit="edit"},mout:function(){this.thisIndex=""},addMover:function(){this.isEdit="add"},change:function(e){this.isCrop&&(this.drawer=!0,this.cropimg=e.url)},beforeUpload:function(e,t){if(this.activeIndexs=this.activeIndex,this.isCrop)return!1;this.loading=this.$loading({lock:!0,text:"正在上传",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})},maxShowImg:function(e){this.imgSrc=this.imgList[e],this.dialogVisible=!0},delImg:function(e){this.setData({type:"del",index:e}),this.mout()},setData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a={name:this.name,imgUrl:t,index:this.item,set:e};this.$emit("onSuccess",a)}}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"img-content"},[e._l(e.imgList,function(t,i){return a("div",{key:i,staticClass:"img-inline",on:{mouseover:function(t){return e.mover(i)},mouseout:function(t){return e.mout("")}}},[a("div",{staticClass:"item"},[a("div",{staticClass:"box"},[a("el-image",{staticStyle:{"max-width":"148px","max-height":"148px"},attrs:{src:e.http+t}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})]),e._v(" "),a("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[a("i",{staticClass:"el-icon-loading",staticStyle:{"font-size":"28px"}}),e._v(" "),a("p",[e._v("加载中")])])])],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:i===e.thisIndex,expression:"index===thisIndex"}],staticClass:"show"},[a("div",{staticClass:"btn-list"},[a("div",{staticClass:"btn-box"},[a("div",{staticClass:"btn-item",attrs:{title:"查看"},on:{click:function(t){return e.maxShowImg(i)}}},[a("i",{staticClass:"el-icon-view"})]),e._v(" "),a("div",{staticClass:"btn-item",attrs:{title:"编辑"}},[a("el-upload",{staticClass:"edit-upload-el",attrs:{"on-change":e.change,accept:e.accept,action:e.http+e.parame.action,data:e.parame.data,"list-type":"picture","before-upload":e.beforeUpload,"on-success":e.editSuccess,"show-file-list":!1}},[a("i",{staticClass:"el-icon-edit-outline"})])],1),e._v(" "),a("div",{staticClass:"btn-item",attrs:{title:"删除"},on:{click:function(t){return e.delImg(i)}}},[a("i",{staticClass:"el-icon-delete"})])])])])])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.imgList.length<e.parame.limit,expression:"imgList.length<parame.limit"}],staticClass:"img-inline",on:{mouseover:e.addMover}},[a("el-upload",{ref:e.name,attrs:{"on-change":e.change,accept:e.accept,action:e.http+e.parame.action,data:e.parame.data,"list-type":"picture","before-upload":e.beforeUpload,"on-success":e.handSuccess,"show-file-list":!1}},[a("div",{staticClass:"el-upload el-upload--picture-card"},[a("i",{staticClass:"el-icon-plus"})])])],1)],2),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisible,"append-to-body":!0,center:!0,top:"15vh",width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"size-img"},[a("div",{staticClass:"size-img-box"},[a("el-image",{ref:"size_img",attrs:{title:"点击预览",src:e.http+e.imgSrc,"preview-src-list":[e.http+e.imgSrc]}}),e._v(" "),a("p",{staticClass:"red"},[e._v("点击图片预览")])],1)])]),e._v(" "),e.isCrop?a("div",[a("el-dialog",{attrs:{visible:e.drawer,"close-on-click-modal":!1,"append-to-body":!0,top:e.croppParame.topCrop,width:e.croppParame.croppersW},on:{"update:visible":function(t){e.drawer=t}}},[a("div",{style:{height:e.croppParame.croppersH}},[a("ImgCrop",{attrs:{img:e.cropimg,croppParame:e.croppParame},on:{getCropDatas:e.getCropDatas}})],1)]),e._v(" "),a("el-dialog",{attrs:{visible:e.isShowBlob,"append-to-body":!0,top:e.croppParame.top,center:!0,"close-on-click-modal":!0},on:{"update:visible":function(t){e.isShowBlob=t}}},[a("div",{staticClass:"cropper-img"},[a("el-image",{attrs:{title:"点击预览",src:e.blobimg,"preview-src-list":[e.blobimg]}})],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"pmsg"},[e._v("点击图片预览")]),e._v(" "),a("el-button",{attrs:{title:"上传到服务器",size:"small",type:"primary"},on:{click:e.uploadCropper}},[e._v("立即上传"),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)])],1):e._e()],1)},staticRenderFns:[]};var f=a("VU/8")(m,h,!1,function(e){a("AvB4")},"data-v-7aaec80a",null).exports,g={name:"SetUserInfo",components:{Upload:f},data:function(){return{title:"",postData:{password:"",checkPass:"",headimg:""},postRules:this.verification(),type:"",imageUrl:[],uploadParame:{data:{path:"admin"},limit:1,action:this.$api.upload},croppParame:{croppersW:"400px",croppersH:"300px",autoCropWidth:"200",autoCropHeight:"200",top:"30vh",topCrop:"25px"}}},props:{visible:Boolean,vtype:String},created:function(){var e=this.$store.getters.getData.userInfo.headimg;e&&(this.imageUrl=e.split(","))},methods:{verification:function(){var e=this,t=[{field:"password",type:{required:"请填写旧密码！"},textCount:[6,18]},{field:"checkPass",validator:function(t,a,i){""===a?i(new Error("请输入确认密码!")):a===e.postData.password?i(new Error("新密码和旧密码一致!")):i()},textCount:[6,18]}];return t=this.$verification(t)},dialogClose:function(e){this.$emit("visibleClose",e)},getImage:function(e){var t=e.set,a=e.imgUrl;e.index;"add"===t.type?this.imageUrl.push(a):"edit"===t.type?this.$set(this.imageUrl,t.index,a):"del"===t.type&&(this.imageUrl=this.imageUrl.filter(function(e,a){if(t.index!=a)return e}))},submitForm:function(e){var t=this;this.postData.headimg=this.imageUrl.join(","),this.$refs[e].validate(function(e){if(!e)return!1;var a=t.postData;a.vtype=t.vtype,t.submitData(a)})},submitData:function(e){var t=this,a=this.$loading({lock:!0,text:"提交中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$request({type:"post",url:"index.php/api/setIinfo",data:e,success:function(e){a.close(),200==e.code?("set"===t.vtype&&t.dialogClose("ok"),"img"===t.vtype&&(t.$store.dispatch("setUserinfos",{key:"headimg",data:t.imageUrl.join(",")}),t.dialogClose("no"))):t.$message({showClose:!0,message:e.msg,type:"error"})},error:function(e){t.$message.error(e)}})}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.visible,width:"363px"},on:{close:e.dialogClose}},[a("el-form",{ref:"postData",staticClass:"demo-ruleForm",attrs:{"label-position":"right","status-icon":"","label-width":"80px",rules:e.postRules,model:e.postData}},["set"===e.vtype?a("div",["edit"!=e.type?a("el-form-item",{attrs:{label:"旧密码",prop:"password"}},[a("el-input",{attrs:{type:"password",maxlength:"18",placeholder:"请输入新密码",autocomplete:"off"},model:{value:e.postData.password,callback:function(t){e.$set(e.postData,"password",t)},expression:"postData.password"}})],1):e._e(),e._v(" "),"edit"!=e.type?a("el-form-item",{attrs:{label:"新密码",prop:"checkPass"}},[a("el-input",{attrs:{type:"password",maxlength:"18",placeholder:"请输入新密码",autocomplete:"off"},model:{value:e.postData.checkPass,callback:function(t){e.$set(e.postData,"checkPass",t)},expression:"postData.checkPass"}})],1):e._e()],1):e._e(),e._v(" "),"img"===e.vtype?a("div",[a("el-form-item",{attrs:{label:"",prop:"headimg"}},[a("Upload",{attrs:{croppParame:e.croppParame,isCrop:!0,item:0,imgList:e.imageUrl,parame:e.uploadParame},on:{onSuccess:e.getImage}})],1)],1):e._e()]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.dialogClose}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submitForm("postData")}}},[e._v("确 定")])],1)],1)},staticRenderFns:[]};var b={components:{SideMenu:r,SetUserInfo:a("VU/8")(g,v,!1,function(e){a("rR9q")},null,null).exports},name:"App",data:function(){return{collapse:!1,login:this.$store.getters.getData.login,userInfo:this.$store.getters.getData.userInfo,menu:[],visible:!1,type:"",http:this.$http}},watch:{$route:function(e,t){"home"==e.name&&(this.menu=this.getData(),this.$store.dispatch("setBreadcrumbs",{Breadcrumb:[],active:"0"}))}},created:function(){this.getData()},computed:{breadcrumbItem:function(){return this.$store.getters.getData.Breadcrumb}},methods:{outLogin:function(){this.$store.dispatch("setlogins",{userinfo:"",login:!1}),location.href="/"},handleCommand:function(e){"out"===e?this.outLogin():"set"===e?(this.visible=!0,this.type="set"):"img"===e&&(this.visible=!0,this.type="img")},visibleClose:function(e){this.visible=!1,"ok"===e&&this.outLogin()},eventColl:function(){this.collapse=!this.collapse},breadcrumb:function(e){var t=e.index,a=e.meta;this.$store.dispatch("setBreadcrumbs",{Breadcrumb:a.title.split("-"),active:t})},getData:function(){var e=this;if(!this.userInfo.id)return!1;var t=this.$loading({lock:!0,text:"加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$request({type:"get",url:"index.php/api/authList",data:{userSID:this.userInfo.id},success:function(a){t.close(),200==a.code?e.menu=a.data.auth_list:e.$message({showClose:!0,message:"数据加载失败",type:"error"})},error:function(t){e.$message.error(t)}})}}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e.login?a("el-container",[a("el-aside",{style:{width:e.collapse?"64px":"230px"}},[a("div",{staticClass:"logo"},[a("span",{directives:[{name:"show",rawName:"v-show",value:!e.collapse,expression:"!collapse"}]},[e._v("后台管理系统")])]),e._v(" "),a("SideMenu",{attrs:{collapse:e.collapse,menu:e.menu},on:{eventTo:e.breadcrumb}})],1),e._v(" "),a("el-container",[a("el-header",[a("el-row",[a("el-col",{attrs:{span:20}},[a("div",{staticClass:"grid-content spread"},[a("i",{directives:[{name:"show",rawName:"v-show",value:!e.collapse,expression:"!collapse"}],staticClass:"el-icon-s-fold",on:{click:e.eventColl}}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:e.collapse,expression:"collapse"}],staticClass:"el-icon-s-unfold",on:{click:e.eventColl}})])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content spreads"},[a("el-dropdown",{on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[a("div",{staticClass:"user_header"},[e._v("\n                      "+e._s(e.userInfo.name)+"\n                      "),a("el-image",{attrs:{src:e.http+e.userInfo.headimg}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])],1)]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"img"}},[e._v("修改头像")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"set"}},[e._v("修改密码")]),e._v(" "),a("el-dropdown-item",{attrs:{divided:"",command:"out"}},[e._v("退出")])],1)],1)],1)])],1)],1),e._v(" "),a("el-main",[a("el-breadcrumb",{attrs:{separator:"/"}},[e.breadcrumbItem.length>1?a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]):a("el-breadcrumb-item",[e._v("首页")]),e._v(" "),e._l(e.breadcrumbItem,function(t,i){return a("el-breadcrumb-item",{key:i},[e._v(e._s(t))])})],2),e._v(" "),a("keep-alive",[e.$route.meta.keepAlive?a("router-view"):e._e()],1),e._v(" "),e.$route.meta.keepAlive?e._e():a("router-view"),e._v(" "),a("SetUserInfo",{attrs:{visible:e.visible,vtype:e.type},on:{visibleClose:e.visibleClose}})],1)],1)],1):e._e(),e._v(" "),e.login?e._e():a("router-view")],1)},staticRenderFns:[]};var y=a("VU/8")(b,_,!1,function(e){a("Hw+a")},null,null).exports,x=a("/ocq"),C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"btn-box btn-box-p-top"},[e._v("操作日志操作")]),e._v(" "),a("div",{staticClass:"data-list-box"},[a("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":"id","header-cell-style":e.headerClassName,"max-height":"700"}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"管理员",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"操作类型",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",width:"180",label:"操作时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"details",label:"操作内容"}})],1)],1)])},staticRenderFns:[]};var w=a("VU/8")({data:function(){return{tableData:[]}},created:function(){this.getData()},methods:{headerClassName:function(e){return e.row,e.rowIndex,{backgroundColor:"#eef1f6",color:"#000000"}},getData:function(e){var t=this,a=this.$loading({lock:!0,text:"加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$request({type:"get",url:this.$api.getLog,success:function(e){a.close(),200==e.code?t.tableData=e.data:t.$message({showClose:!0,message:"数据加载失败",type:"error"})},error:function(e){t.$message.error(e)}})}}},C,!1,function(e){a("Higc")},"data-v-038110fe",null).exports,D={data:function(){return{img:"",color:["#aaa","red","#aaa","#bbb","#aaa","#bbb"],postData:{user_name:"",pass:"",code:""},code:[],imgcode:"",rules:this.verification()}},created:function(){this.randomRange(4,6)},methods:{verification:function(){var e=[{field:"user_name",type:{required:"请输入登录账号！",strAZaz:"必须是英文字母！"},textCount:[4,10]},{field:"pass",type:{required:"请输入登录密码！"},textCount:[6,18]},{field:"code",type:{required:"请输入验证码！"}}];return e=this.$verification(e)},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a=t.postData;t.submitData(a)})},submitData:function(e){var t=this,a=this.$loading({lock:!0,text:"等待验证登录...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$request({type:"post",url:this.$api.login,data:e,success:function(e){200==e.code?(t.$message({showClose:!0,message:e.msg,type:"success"}),t.login(!0,e.data)):t.$message({showClose:!0,message:e.msg,type:"error"}),a.close()},error:function(){t.$message.error(err)}})},login:function(e,t){var a=this.$store.getters.getData;a.userInfo=t.userinfo,a.login=e,a.Breadcrumb=[],a.active="0",a.operation=t.operation,a.menu=t.auth_list,this.$store.dispatch("setDatas",a),setTimeout(function(){location.href="/"},300)},getCode:function(){var e=this;this.$request({type:"post",url:this.$api.code,success:function(t){200==t.code?e.imgcode=e.$http+t.codeimg+"?"+Math.random():e.$message.error("网络发生错误！")},error:function(){e.$message.error(err)}})},randomRange:function(e,t){return this.getCode(),!1},RandomColor:function(){return"rgb("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+")"}}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("div",{staticClass:"login-box"},[a("h1",{staticClass:"title"},[e._v("WB后台管理系统")]),e._v(" "),a("el-form",{ref:"postData",staticClass:"demo-ruleForm",attrs:{"label-position":"right",model:e.postData,rules:e.rules,"label-width":"70px"}},[a("div",{staticClass:"form-box"},[a("el-form-item",{attrs:{label:"账号:",prop:"user_name"}},[a("el-input",{attrs:{maxlength:"10",placeholder:"输入登录账号"},model:{value:e.postData.user_name,callback:function(t){e.$set(e.postData,"user_name",t)},expression:"postData.user_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码:",prop:"pass"}},[a("el-input",{attrs:{type:"password",maxlength:"18",placeholder:"账号密码"},model:{value:e.postData.pass,callback:function(t){e.$set(e.postData,"pass",t)},expression:"postData.pass"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"验证码:",prop:"code"}},[a("el-col",{attrs:{span:13}},[a("el-input",{attrs:{maxlength:"4",placeholder:"验证码"},model:{value:e.postData.code,callback:function(t){e.$set(e.postData,"code",t)},expression:"postData.code"}})],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("div",{staticClass:"code-list",on:{click:e.randomRange}},[a("el-image",{attrs:{src:e.imgcode}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-refresh"})]),e._v(" "),a("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[a("i",{staticClass:"el-icon-loading"})])])],1)])],1)],1)]),e._v(" "),a("div",{staticClass:"form-btn"},[a("el-button",{staticStyle:{width:"50%"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("postData")}}},[e._v("登录")])],1)],1)])},staticRenderFns:[]};var $=a("VU/8")(D,k,!1,function(e){a("XF6T")},"data-v-4c0af03a",null).exports,S=a("bOdI"),U=a.n(S),z={components:{Upload:f},data:function(){return{uploadParame:U()({data:{path:"admin"},limit:1,action:String},"action",this.$api.upload),imageUrl:[],title:"",visible:!1,postData:{name:"",user_name:"",tel:"",role_id:"",headimg:"",password:"",passwords:"",checkPass:""},type:"",postRules:this.verification(),handleNname:{edit:"editAdmin",add:"addAdmin",del:"delAdmin"},croppParame:{croppersW:"400px",croppersH:"300px",autoCropWidth:"200",autoCropHeight:"200",top:"30vh",topCrop:"25px"}}},props:{role:Array|Object},methods:{verification:function(){var e=this,t=[{field:"name",type:{required:"请输入管理员姓名！",chinese:"必须是中文！"},textCount:[2,6]},{field:"user_name",type:{required:"请输入登录账号！",strAZaz:"必须是英文字母！"},textCount:[4,10]},{field:"password",type:{required:"请输入密码！"},textCount:[6,18]},{field:"passwords",textCount:[6,18]},{field:"tel",type:{required:"请输入管理员手机号！",tel:"请输入正确格式的手机号！"},textCount:[11,11],lengthText:"请输入11位手机号码！"},{field:"role_id",type:{required:"请选择角色！"}},{field:"checkPass",validator:function(t,a,i){""!=e.postData.passwords&&a!==e.postData.passwords?i(new Error("两次输入密码不一致!")):i()}}];return t=this.$verification(t)},getImage:function(e){var t=e.set,a=e.imgUrl;e.index;"add"===t.type?this.imageUrl.push(a):"edit"===t.type?this.$set(this.imageUrl,t.index,a):"del"===t.type&&(this.imageUrl=this.imageUrl.filter(function(e,a){if(t.index!=a)return e}))},dialogClose:function(e){this.postData={name:"",user_name:"",tel:"",role_id:"",headimg:"",password:"",passwords:"",checkPass:""},this.imageUrl=[],this.visible=!1,this.$emit("close",e)},operation:function(e,t){var a=this;if(this.type=e,"edit"===e){var i=t.row,o=i.id,s=i.name,r=i.user_name,n=i.tel,l=i.role_id,c=i.headimg;this.title="修改管理员信息",this.postData={id:o,name:s,user_name:r,tel:n,role_id:l,headimg:c,password:"",passwords:"",checkPass:""},this.imageUrl=c.split(","),this.visible=!0}else if("del"===e){var p=t.row,d=p.id;p.name,p.user_name;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.submitData({id:d,type:"del"})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})}else"add"===e&&(this.title="添加管理员信息",this.visible=!0)},submitForm:function(e){var t=this;this.postData.headimg=this.imageUrl.join(","),this.$refs[e].validate(function(e){if(!e)return!1;var a=t.postData;a.type=t.type,"edit"===t.type&&(a.password=t.postData.passwords),t.submitData(a)})},submitData:function(e){var t=this,a=this.$loading({lock:!0,text:"提交中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$request({type:"post",url:this.$api.addAdmin,data:e,success:function(e){a.close(),200==e.code?(t.visible=!1,t.dialogClose("load"),t.$message({showClose:!0,message:e.msg,type:"success"})):t.$message({showClose:!0,message:e.msg,type:"error"})},error:function(e){t.$message.error(e)}})}}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-drawer",{attrs:{visible:e.visible,direction:"rtl",size:"50%","show-close":!1,wrapperClosable:!1,"before-close":e.dialogClose},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.title)),a("div",{staticClass:"icon",on:{click:e.dialogClose}},[a("i",{staticClass:"el-icon-close"})])]),e._v(" "),a("div",{staticClass:"drawer-box"},[a("el-form",{ref:"postData",staticClass:"demo-ruleForm",attrs:{"label-position":"right","status-icon":"","label-width":"80px",rules:e.postRules,model:e.postData}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{maxlength:"6",placeholder:"请输入管理员姓名"},model:{value:e.postData.name,callback:function(t){e.$set(e.postData,"name",t)},expression:"postData.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"账号",prop:"user_name"}},[a("el-input",{attrs:{maxlength:"10",placeholder:"请输入登录账号"},model:{value:e.postData.user_name,callback:function(t){e.$set(e.postData,"user_name",t)},expression:"postData.user_name"}})],1),e._v(" "),"edit"!=e.type?a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",maxlength:"18",placeholder:"请输入新密码(不填默认为:123456)",autocomplete:"off"},model:{value:e.postData.password,callback:function(t){e.$set(e.postData,"password",t)},expression:"postData.password"}})],1):a("el-form-item",{attrs:{label:"密码",prop:"passwords"}},[a("el-input",{attrs:{type:"password",maxlength:"18",placeholder:"请输入新密码(不填不修改)",autocomplete:"off"},model:{value:e.postData.passwords,callback:function(t){e.$set(e.postData,"passwords",t)},expression:"postData.passwords"}})],1),e._v(" "),e.postData.passwords&&e.postData.passwords.length>=6?a("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[a("el-input",{attrs:{type:"password",maxlength:"18",placeholder:"请再次输入密码",autocomplete:"off"},model:{value:e.postData.checkPass,callback:function(t){e.$set(e.postData,"checkPass",t)},expression:"postData.checkPass"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"电话",prop:"tel"}},[a("el-input",{attrs:{maxlength:"11",placeholder:"请输正确的11位手机号"},model:{value:e.postData.tel,callback:function(t){e.$set(e.postData,"tel",t)},expression:"postData.tel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色名称",prop:"role_id"}},[a("el-select",{attrs:{placeholder:"请选择角色名称"},model:{value:e.postData.role_id,callback:function(t){e.$set(e.postData,"role_id",t)},expression:"postData.role_id"}},e._l(e.role,function(e){return a("el-option",{key:e.id,attrs:{label:e.role_name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"头像",prop:"headimg"}},[a("Upload",{attrs:{croppParame:e.croppParame,isCrop:!0,imgList:e.imageUrl,parame:e.uploadParame},on:{onSuccess:e.getImage}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.dialogClose}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submitForm("postData")}}},[e._v("确 定")])],1)],1)])],1)},staticRenderFns:[]};var A={components:{addAdmin:a("VU/8")(z,I,!1,function(e){a("HWxn")},"data-v-287a43b1",null).exports},data:function(){return{tableData:[],role:[],handleNname:{edit:"editAdmin",add:"addAdmin",del:"delAdmin"}}},created:function(){this.getData()},methods:{dialogClose:function(e){"load"===e&&this.getData()},operation:function(e,t){if(!this.$handleVerify(this.handleNname[e]))return this.$message({showClose:!0,message:"暂无操作权限，请联系管理员！",type:"error"}),!1;this.$refs.addAdmin.operation(e,t)},headerClassName:function(e){e.row,e.rowIndex;return{backgroundColor:"#eef1f6",color:"#000000"}},getData:function(){var e=this,t=this.$loading({lock:!0,text:"加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$request({type:"get",url:this.$api.admin,success:function(a){t.close(),200==a.code?(e.tableData=a.data.admin,e.role=a.data.role):e.$message({showClose:!0,message:"数据加载失败",type:"error"})},error:function(t){e.$message.error(t)}})}}},T={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"btn-box btn-box-p-top"},[a("el-button",{attrs:{type:"primary",size:"small",round:""},on:{click:function(t){return e.operation("add")}}},[e._v("添加管理员"),a("i",{staticClass:"el-icon-plus el-icon--right"})])],1),e._v(" "),a("div",{staticClass:"data-list-box"},[a("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":"id","header-cell-style":e.headerClassName,"max-height":"700"}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{"max-height":"20px","max-width":"20px"},attrs:{src:e.row.headimg_url,"preview-src-list":[e.row.headimg_url]}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_name",label:"账号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"role_name",label:"角色名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",width:"180",label:"添加时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.operation("edit",t)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.operation("del",t)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("addAdmin",{ref:"addAdmin",attrs:{role:e.role},on:{close:e.dialogClose}})],1)},staticRenderFns:[]};var F=a("VU/8")(A,T,!1,function(e){a("uCGw")},"data-v-5a7dadb9",null).exports,P={data:function(){return{title:"",visible:!1,postData:{role_name:"",remark:"",auth_id:""},type:"",postRules:this.verification(),checkList:[]}},props:{auth:Array|Object},methods:{handleCheckedCitiesChange:function(e){this.checkList=e,this.postData.auth_id=e.join(",")},verification:function(){var e=[{field:"role_name",type:{required:"请输入角色名称！",chinese:"必须是中文！"},textCount:[2,6]},{field:"remark",textCount:[0,20]}];return e=this.$verification(e)},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a=t.postData;a.type=t.type,t.submitData(a)})},submitData:function(e){var t=this,a=this.$loading({lock:!0,text:"提交中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$request({type:"post",url:this.$api.addRole,data:e,success:function(e){a.close(),200==e.code?(t.dialogClose("load"),t.$message({showClose:!0,message:e.msg,type:"success"})):t.$message({showClose:!0,message:e.msg,type:"error"})},error:function(e){t.$message.error(e)}})},dialogClose:function(e){this.postData={role_name:"",remark:"",auth_id:""},this.visible=!1,this.checkList=[],this.$emit("close",e)},operation:function(e){var t=this,a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{row:{}}).row,i=a.id,o=a.role_name,s=a.remark,r=a.auth_id;this.type=e,"edit"===e?(this.title="修改角色",this.postData={id:i,role_name:o,remark:s,auth_id:r},this.checkList=r.split(","),this.visible=!0):"del"===e?this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.submitData({id:i,type:"del"})}).catch(function(){t.$message({type:"info",message:"已取消删除!"})}):"add"===e&&(this.title="添加角色",this.visible=!0)}}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-drawer",{attrs:{visible:e.visible,direction:"rtl",size:"50%","show-close":!1,wrapperClosable:!1,"before-close":e.dialogClose},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.title)),a("div",{staticClass:"icon",on:{click:e.dialogClose}},[a("i",{staticClass:"el-icon-close"})])]),e._v(" "),a("div",{staticClass:"drawer-box"},[a("el-form",{ref:"postData",staticClass:"demo-ruleForm",attrs:{inline:"inline","label-position":"right","status-icon":"","label-width":"80px",rules:e.postRules,model:e.postData}},[a("el-form-item",{attrs:{label:"角色名称",prop:"role_name"}},[a("el-input",{attrs:{maxlength:"6",placeholder:"请输入角色名称"},model:{value:e.postData.role_name,callback:function(t){e.$set(e.postData,"role_name",t)},expression:"postData.role_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{maxlength:"20",placeholder:"请输入备注"},model:{value:e.postData.remark,callback:function(t){e.$set(e.postData,"remark",t)},expression:"postData.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"auth—box-list"},[a("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(e.auth,function(t){return a("div",{key:t.id},[a("el-divider",[a("span",[e._v(e._s(t.title))])]),e._v(" "),e._l(t.children,function(t){return a("div",{key:t.id,staticClass:"auth-list"},[a("el-checkbox",{attrs:{label:t.id}},[e._v(e._s(t.title))]),e._v(" "),e._l(t.children,function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.title))])}),e._v(" "),a("el-divider")],2)})],2)}),0)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.dialogClose}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submitForm("postData")}}},[e._v("确 定")])],1)],1)])],1)},staticRenderFns:[]};var E={components:{AddRole:a("VU/8")(P,R,!1,function(e){a("OXQ2")},"data-v-bc99ec62",null).exports},data:function(){return{tableData:[],auth:[],handleNname:{add:"addRole",edit:"editRole",del:"delRole"}}},created:function(){this.getData()},methods:{dialogClose:function(e){"load"===e&&this.getData(),this.checkList=[]},operation:function(e,t){if(!this.$handleVerify(this.handleNname[e]))return this.$message({showClose:!0,message:"暂无操作权限，请联系管理员！",type:"error"}),!1;this.$refs.addRole.operation(e,t)},headerClassName:function(e){e.row,e.rowIndex;return{backgroundColor:"#eef1f6",color:"#000000"}},getData:function(){var e=this,t=this.$loading({lock:!0,text:"加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$request({type:"get",url:this.$api.role,success:function(a){t.close(),200==a.code?(e.tableData=a.data.role,e.auth=a.data.auth,e.dialogClose()):e.$message({showClose:!0,message:"数据加载失败",type:"error"})},error:function(t){e.$message.error(t)}})}}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"btn-box btn-box-p-top"},[a("el-button",{attrs:{type:"primary",size:"small",round:""},on:{click:function(t){return e.operation("add")}}},[e._v("添加角色"),a("i",{staticClass:"el-icon-plus el-icon--right"})])],1),e._v(" "),a("div",{staticClass:"data-list-box"},[a("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":"id","header-cell-style":e.headerClassName,"max-height":"700"}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"role_name",label:"角色名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"添加时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.operation("edit",t)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.operation("del",t)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("AddRole",{ref:"addRole",attrs:{auth:e.auth},on:{close:e.dialogClose}})],1)},staticRenderFns:[]};var M=a("VU/8")(E,B,!1,function(e){a("lR+a")},"data-v-52303476",null).exports,L={data:function(){return{}},methods:{setinfo:function(){this.$handleVerify("addAdmin")?console.log("通过"):console.log("权限不足")}}},q={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("el-button",{attrs:{size:"small"},on:{click:this.setinfo}},[this._v("小型按钮")])],1)},staticRenderFns:[]};var W=a("VU/8")(L,q,!1,function(e){a("PgLk")},null,null).exports,O={data:function(){return{title:"添加",visible:!1,addData:{title:"",order:0,name:"",icon:"",id:"",parent_id:""},type:"",addRules:{title:[{required:!0,message:"请输入栏目名称",trigger:"blur"},{min:2,max:6,message:"长度在 3 到 6 个字符",trigger:"blur"}],order:[{type:"number",message:"排序必须是数字"}],name:[{validator:function(e,t,a){/^[a-zA-Z]{1}([a-zA-Z0-9]|[\/]){2,18}$/.test(t)?a():a(new Error("必须是3-18英文字母或者符号！"))},trigger:"blur"}],icon:[{validator:function(e,t,a){/^[a-zA-Z]{1}([a-zA-Z0-9]|[._-]){4,18}$/.test(t)?a():a(new Error("必须是6-18英文字母或者符号！"))},trigger:"blur"}]},tableData:[]}},created:function(){this.getData()},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a=t.addData;a.type=t.type,t.submitData(a)})},dialogClose:function(){this.addData={title:"",order:0,name:"",icon:"",id:"",parent_id:""}},operation:function(e){var t=this,a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{row:{}}).row,i=a.id,o=a.parent_id,s=a.title,r=a.order,n=a.name,l=a.icon,c=a.children;this.type=e,"edit"===e?(this.title="修改栏目",this.addData={title:s,order:parseInt(r),name:n,icon:l,id:i,parent_id:o},this.visible=!0):"del"===e?this.$confirm("此操作将永久删除该栏目, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){0===c.length?t.submitData({id:i,type:"del"}):t.$message({type:"error",message:"该栏目有子栏目，删除失败！"})}).catch(function(){t.$message({type:"info",message:"已取消删除"})}):"add"===e&&(this.title="添加栏目",this.addData.id=i,this.visible=!0)},onSubmit:function(){console.log("submit!")},headerClassName:function(e){e.row,e.rowIndex;return{backgroundColor:"#eef1f6",color:"#000000"}},getData:function(e){var t=this,a=this.$loading({lock:!0,text:"加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$request({type:"get",url:"index.php/api/auth",success:function(e){a.close(),200==e.code?t.tableData=e.data:t.$message({showClose:!0,message:"数据加载失败",type:"error"})},error:function(e){t.$message.error(e)}})},submitData:function(e){var t=this,a=this.$loading({lock:!0,text:"提交中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$request({type:"post",url:"index.php/api/authAdd",data:e,success:function(e){a.close(),200==e.code?(t.visible=!1,t.getData(),t.$message({showClose:!0,message:e.msg,type:"success"})):t.$message({showClose:!0,message:e.msg,type:"error"})},error:function(e){t.$message.error(e)}})}}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"btn-box btn-box-p-top"},[a("el-button",{attrs:{type:"primary",size:"small",round:""},on:{click:function(t){return e.operation("add")}}},[e._v("顶级栏目"),a("i",{staticClass:"el-icon-plus el-icon--right"})])],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.visible,width:"50%",top:"20vh",center:""},on:{"update:visible":function(t){e.visible=t},close:e.dialogClose}},[a("el-form",{ref:"addData",staticClass:"demo-ruleForm",attrs:{"label-position":"right","status-icon":"","label-width":"80px",rules:e.addRules,model:e.addData}},[a("el-form-item",{attrs:{label:"栏目名称",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入栏目名称"},model:{value:e.addData.title,callback:function(t){e.$set(e.addData,"title",t)},expression:"addData.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Path名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入path名称"},model:{value:e.addData.name,callback:function(t){e.$set(e.addData,"name",t)},expression:"addData.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排序值",prop:"order"}},[a("el-input",{attrs:{placeholder:"请输入排序值"},model:{value:e.addData.order,callback:function(t){e.$set(e.addData,"order",e._n(t))},expression:"addData.order"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Icon图标",prop:"icon"}},[a("el-input",{attrs:{placeholder:"请输入图片class名称,只支持element框架icon图标"},model:{value:e.addData.icon,callback:function(t){e.$set(e.addData,"icon",t)},expression:"addData.icon"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addData")}}},[e._v("确 定")])],1)],1),e._v(" "),a("div",{staticClass:"data-list-box"},[a("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":"id","header-cell-style":e.headerClassName,"tree-props":{children:"children"},"max-height":"700"}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"栏目名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[""!=t.row.name?a("span",[e._v(e._s(t.row.name))]):a("span",[e._v("--")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"icon",label:"图标"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("i",{class:e.row.icon,staticStyle:{"font-size":"18px"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"order",label:"排序"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return e.operation("add",t)}}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.operation("edit",t)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.operation("del",t)}}},[e._v("删除")])]}}])})],1)],1)],1)},staticRenderFns:[]};var j=a("VU/8")(O,V,!1,function(e){a("p4V0")},"data-v-15e6fe1a",null).exports,N={name:"pageBott",data:function(){return{pageSize:this.pageMeter.limit,thisPage:this.pageMeter.page}},props:{pageMeter:Object},methods:{pageSizeChange:function(e){this.pageSize=e,this.thisPage=1,this.pageChang()},thisPageChang:function(e){this.thisPage=e,this.pageChang()},pageChang:function(){var e=this;console.log(this.pageMeter),setTimeout(function(){e.$emit("currChange",{limit:e.pageSize,page:e.thisPage})},10)}}},H={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"page-box"},[t("el-pagination",{attrs:{background:"",layout:"total,sizes,prev,pager,next,jumper","current-page":this.pageMeter.page,"page-size":this.pageMeter.limit,total:this.pageMeter.total},on:{"size-change":this.pageSizeChange,"current-change":this.thisPageChang}})],1)])},staticRenderFns:[]};var Z=a("VU/8")(N,H,!1,function(e){a("YdVF")},"data-v-e4455396",null).exports,X={name:"tableList",data:function(){return{expanded:[],columns:[{prop:"id",name:"ID",minWidth:100,isShowType:"default"},{prop:"imgurls",name:"缩略图",minWidth:170,isShowType:"img"},{prop:"title",name:"文章标题",minWidth:170,isShowType:"default",isUnfold:!0},{prop:"creater",name:"原创作者",minWidth:170,isShowType:"default"},{prop:"create_time",name:"创建时间",minWidth:170,isShowType:"default"},{prop:"keyword",name:"关键词",isShow:!0,isUnfold:!0},{prop:"describe",name:"文章摘要",isShow:!0,isUnfold:!0},{prop:"issuer",name:"发布人",isShow:!0,isUnfold:!0},{prop:"issuer_time",name:"发布时间",isShow:!0,isUnfold:!0},{prop:"update_time",name:"更新时间",isShow:!0,isUnfold:!0},{prop:"state_text",name:"文章状态",isUnfold:!0},{prop:"state",name:"操作",minWidth:270,align:"center",fixed:"right",isShowType:"btn",btnArr:[{size:"mini",type:"primary",plain:!0,name:"编辑",field:"edit"},{size:"mini",type:"success",plain:!0,name:"发布",field:"issuer",state:"ok"},{size:"mini",type:"warning",plain:!0,name:"取消发布",field:"issuers",state:"on"},{size:"mini",type:"danger",plain:!0,name:"删除",field:"del"}]}]}},props:{tableData:Array,column:Array,unfold:Boolean},methods:{handleCommand:function(e){var t=e.field,a=e.scope;this.operation(t,a)},headerClassName:function(e){e.row,e.rowIndex;return{backgroundColor:"#eef1f6",color:"#000000"}},dataFormatter:function(e,t){this.$emit("tabDataFormatter",{row:e,column:t})},operation:function(e,t){this.$emit("tabBtnOperation",{type:e,data:t})},expandChangeSelect:function(e,t){this.expanded.length?e.id!==this.expanded[0]?(this.expanded=[],this.expanded.push(e.id)):this.expanded=[]:this.expanded.push(e.id)}}},Y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"data-list-box"},[a("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":"id","header-cell-style":e.headerClassName,"max-height":"550","empty-text":"暂无文章","expand-row-keys":e.expanded},on:{"expand-change":e.expandChangeSelect}},[e.unfold?a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},e._l(e.column,function(i,o){return i.isUnfold?a("el-form-item",{key:o+"_"+t.row.id,attrs:{label:i.name+":"}},[t.row[i.prop]?a("span",[e._v(e._s(t.row[i.prop]))]):a("span",[e._v("--")])]):e._e()}),1)]}}],null,!1,1131051744)}):e._e(),e._v(" "),e._l(e.column,function(t,i){return t.isShow?e._e():a("el-table-column",{key:i,attrs:{fixed:t.fixed,align:t.align,prop:t.prop,label:t.name,"min-width":t.minWidth},scopedSlots:e._u([{key:"default",fn:function(i){return["img"===t.isShowType?a("div",[a("el-image",{staticStyle:{"max-height":"20px","max-width":"20px"},attrs:{src:i.row[t.prop],"preview-src-list":i.row.imgurls.split(",")}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])],1):"btn"===t.isShowType?a("div",[t.btnArr.length>3?a("div",[a("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[a("el-button",{attrs:{plain:"",size:"small","split-button":"",type:"primary"}},[e._v("\n                    更多操作"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(t.btnArr,function(o){return o.state!==i.row[t.prop]?a("el-dropdown-item",{key:o.field,attrs:{command:{field:o.field,scope:i}}},[e._v(e._s(o.name))]):e._e()}),1)],1)],1):e._e(),e._v(" "),t.btnArr.length<=3?a("div",e._l(t.btnArr,function(o){return o.state!==i.row[t.prop]?a("el-button",{key:o.field,attrs:{size:o.size,type:o.type,plain:o.plain},on:{click:function(t){return e.operation(o.field,i)}}},[e._v(e._s(o.name))]):e._e()}),1):e._e()]):a("div",{staticClass:"el-tooltip"},[i.row[t.prop]?a("span",[e._v(e._s(i.row[t.prop]))]):a("span",[e._v("--")])])]}}],null,!0)})})],2)],1)},staticRenderFns:[]};var G=a("VU/8")(X,Y,!1,function(e){a("6Tp1")},"data-v-ea561b6c",null).exports,J={components:{PageBott:Z,TbaleList:G},data:function(){return{visible:!1,parameter:{title:"",type:""},pageMeter:{limit:10,page:1,total:0},tableData:[],column:[{prop:"id",name:"ID",minWidth:100,isShowType:"default"},{prop:"imgurls",name:"缩略图",minWidth:170,isShowType:"img"},{prop:"title",name:"文章标题",minWidth:170,isShowType:"default",isUnfold:!0},{prop:"creater",name:"原创作者",minWidth:170,isShowType:"default"},{prop:"create_time",name:"创建时间",minWidth:170,isShowType:"default"},{prop:"keyword",name:"关键词",isShow:!0,isUnfold:!0},{prop:"describe",name:"文章摘要",isShow:!0,isUnfold:!0},{prop:"issuer",name:"发布人",isShow:!0,isUnfold:!0},{prop:"issuer_time",name:"发布时间",isShow:!0,isUnfold:!0},{prop:"update_time",name:"更新时间",isShow:!0,isUnfold:!0},{prop:"state_text",name:"文章状态",isUnfold:!0},{prop:"state",name:"操作",minWidth:200,align:"center",fixed:"right",isShowType:"btn",btnArr:[{size:"mini",type:"primary",plain:!0,name:"编辑",field:"edit"},{size:"mini",type:"success",plain:!0,name:"发布",field:"issuer",state:"ok"},{size:"mini",type:"warning",plain:!0,name:"取消发布",field:"issuers",state:"on"},{size:"mini",type:"danger",plain:!0,name:"删除",field:"del"}]}]}},created:function(){this.getData(this.searchData())},methods:{visibleClose:function(e){"ok"===e&&this.getData(this.searchData()),this.visible=!1},eventOperation:function(e){var t=e.type,a=e.data;this.operation(t,a)},operation:function(e,t){this.parameter.type=e,"add"===e?(this.parameter.title="添加文章",this.visible=!0):"edit"===e?(this.parameter.title="编辑文章",this.visible=!0,this.$refs.addArticle.setEditData(t.row)):"del"===e?this.$refs.addArticle.setUploadData({id:t.row.id,type:"del"}):"issuer"!==e&&"issuers"!==e||this.$refs.addArticle.setUploadData({id:t.row.id,type:"issuer"})},onSubmit:function(){console.log("submit!")},getData:function(e){var t=this,a=this.$loading({lock:!0,text:"加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$request({type:"get",url:"index.php/apiAll/article",data:e,success:function(e){a.close(),200==e.code?(t.tableData=e.data.data,t.pageMeter.total=e.data.count):t.$message({showClose:!0,message:"数据加载失败",type:"error"})},error:function(e){t.$message.error(e)}})},pageChang:function(e){var t=e.limit,a=e.page;this.pageMeter.limit=t,this.pageMeter.page=a,this.getData(this.searchData())},searchData:function(){return{limit:this.pageMeter.limit,page:this.pageMeter.page}}}},Q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"search-box"},[e._v("\n      搜索区域\n    ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",round:""},on:{click:function(t){return e.operation("add")}}},[e._v("添加文章"),a("i",{staticClass:"el-icon-plus el-icon--right"})])],1),e._v(" "),a("div",{staticClass:"main"},[a("TbaleList",{attrs:{tableData:e.tableData,unfold:!0,column:e.column},on:{tabBtnOperation:e.eventOperation}}),e._v(" "),a("PageBott",{attrs:{pageMeter:e.pageMeter},on:{currChange:e.pageChang}})],1)])},staticRenderFns:[]};var K=a("VU/8")(J,Q,!1,function(e){a("4l6K")},"data-v-1c4465a6",null).exports,ee=a("sYY+"),te=a.n(ee),ae={name:"editor",data:function(){return{editorObj:null}},props:{name:String},methods:{getContent:function(e){var t={name:this.name,content:e};this.$emit("getContent",t)},getEditor:function(e){this.editorObj=e;var t={name:this.name,e:e};this.$emit("getEditors",t)},editor:function(){return{name:this.name,editor:this.editorObj}}},mounted:function(){var e=this,t=new te.a(this.$refs.editor);t.customConfig.menus=["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","image","table","undo","redo"],t.customConfig.colors=["#000000","#ffffff","#c0c0c0","#808080","#ffcc00","#00ff00","#808000","#008000","#008080","#00ffff","#0000ff","#000080","#ff00ff","#ff0000","#800080","#880000"],t.customConfig.pasteFilterStyle=!1,t.customConfig.pasteIgnoreImg=!1,t.customConfig.showLinkImg=!0,t.customConfig.uploadImgShowBase64=!0,t.customConfig.uploadImgMaxSize=3145728,t.customConfig.uploadImgMaxLength=5,t.customConfig.customAlert=function(t){e.$message.error(t)},t.customConfig.onchange=function(t){e.getContent(t)},t.create(),this.getEditor(t)}},ie={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{ref:"editor"})])},staticRenderFns:[]};var oe={name:"createForm",components:{Upload:f,Editor:a("VU/8")(ae,ie,!1,function(e){a("Iqg4")},null,null).exports},data:function(){return{editorObj:null}},beforeUpdate:function(){},props:{labelWidth:String,rules:Array|Object,bntText:String,refNanme:String,inline:Boolean,formData:Object,formListItem:Array|Object},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a=t.formData;t.$emit("eventSubmit",{data:a})})},handleChange:function(e){},getContent:function(e){var t=e.name,a=e.content;this.formData[t]=a},setEditors:function(e){e.e,e.name},getEditor:function(e,t){var a=this.$refs.editObj[t].editor();a.name;a.editor.txt.html(e)},clearEditor:function(e){var t=this.$refs.editObj[e].editor();t.name;t.editor.txt.clear()},getImage:function(e){var t=e.set,a=e.imgUrl,i=e.index,o=e.name;"add"===t.type?this.formData[o].push(a):"edit"===t.type?this.$set(this.formData[o],t.index,a):"del"===t.type&&(this.formData[o]=this.formData[o].filter(function(e,a){if(t.index!=a)return e})),this.formData[o].length?this.formData[i]=this.formData[o].join(","):this.formData[i]=""}}},se={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-box",class:{formBoxInline:e.inline}},[a("el-form",{ref:e.refNanme,attrs:{inline:e.inline,rules:e.rules,model:e.formData,"label-width":e.labelWidth}},[e._l(e.formListItem,function(t){return a("el-form-item",{key:t.prop,attrs:{label:t.label,prop:t.prop}},["text"===t.type?a("div",{staticClass:"text"},[a("el-input",{attrs:{maxlength:t.maxlength,placeholder:t.placeholder},model:{value:e.formData[t.prop],callback:function(a){e.$set(e.formData,t.prop,a)},expression:"formData[fr.prop]"}})],1):"textarea"===t.type?a("div",{staticClass:"textarea"},[a("el-input",{style:{height:t.height},attrs:{type:"textarea",maxlength:t.maxlength,placeholder:t.placeholder},model:{value:e.formData[t.prop],callback:function(a){e.$set(e.formData,t.prop,a)},expression:"formData[fr.prop]"}}),e._v(" "),a("div",{staticClass:"number"},[a("span",{class:{active:e.formData[t.prop].length===t.maxlength}},[e._v(e._s(e.formData[t.prop].length))]),e._v("/"+e._s(t.maxlength))])],1):"select"===t.type?a("div",{staticClass:"select"},[a("el-select",{attrs:{placeholder:t.placeholder},model:{value:e.formData[t.prop],callback:function(a){e.$set(e.formData,t.prop,a)},expression:"formData[fr.prop]"}},e._l(t.select,function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}),1)],1):"checkbox"===t.type?a("div",{staticClass:"checkbox"},[a("el-checkbox-group",{attrs:{min:t.minlength,max:t.maxlength},model:{value:e.formData[t.prop],callback:function(a){e.$set(e.formData,t.prop,a)},expression:"formData[fr.prop]"}},e._l(t.checkbox,function(i){return a("el-checkbox",{key:i.value,attrs:{label:i.value,name:t.prop}},[e._v(e._s(i.text))])}),1)],1):"radio"===t.type?a("div",{staticClass:"radio"},[a("el-radio-group",{model:{value:e.formData[t.prop],callback:function(a){e.$set(e.formData,t.prop,a)},expression:"formData[fr.prop]"}},e._l(t.radio,function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.text))])}),1)],1):"switch"===t.type?a("div",{staticClass:"switch"},[a("el-switch",{model:{value:e.formData[t.prop],callback:function(a){e.$set(e.formData,t.prop,a)},expression:"formData[fr.prop]"}})],1):"datetime"===t.type||"date"===t.type?a("div",{staticClass:"datetime"},[a("el-date-picker",{attrs:{editable:!1,type:t.type,placeholder:t.placeholder},model:{value:e.formData[t.prop],callback:function(a){e.$set(e.formData,t.prop,a)},expression:"formData[fr.prop]"}})],1):"datetimerange"===t.type||"daterange"===t.type?a("div",{staticClass:"datetimerange"},[a("el-date-picker",{attrs:{editable:!1,type:t.type,"range-separator":t.range,"start-placeholder":t.startPlaceholder,"end-placeholder":t.endPlaceholder},model:{value:e.formData[t.prop],callback:function(a){e.$set(e.formData,t.prop,a)},expression:"formData[fr.prop]"}})],1):"cascader"===t.type?a("div",{staticClass:"cascader"},[a("el-cascader",{attrs:{placeholder:t.placeholder,options:t.options},on:{change:e.handleChange},model:{value:e.formData[t.prop],callback:function(a){e.$set(e.formData,t.prop,a)},expression:"formData[fr.prop]"}})],1):"imgUpload"===t.type?a("div",{staticClass:"imgUpload"},[a("Upload",{attrs:{item:t.prop,name:t.name,imgList:e.formData[t.name],parame:t.uploadParame},on:{onSuccess:e.getImage}}),e._v(" "),a("p",{staticClass:"imgMsg"},[a("i",{staticClass:"el-icon-warning-outline"}),e._v(e._s(t.placeholder))])],1):"editConten"===t.type?a("div",{staticClass:"editConten"},[a("Editor",{ref:"editObj",refInFor:!0,attrs:{name:t.prop},on:{getContent:e.getContent}})],1):e._e()])}),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.onSubmit(e.refNanme)}}},[e._v(e._s(e.bntText))])],1)],2)],1)},staticRenderFns:[]};var re=a("VU/8")(oe,se,!1,function(e){a("6Qzd")},"data-v-387f4b86",null).exports,ne={components:{CreateForm:re},data:function(){return{inline:!1,formData:{title:"",name:"",tel:"",phone:"",phoneTel:"",age:"",des:"",state:"",type:[],sex:"",open:!1,datetime:"2019-09-09 00:00:00",datetimerange:["2019-09-09","2019-09-15"],cascader:[],img:"",imglist:[],content:"<p>这是默认内容基本内容</p>"},rules:this.verification()}},methods:{onSubmit:function(e){var t=e.data;console.log(t)},verification:function(){var e=[{field:"title",type:{required:"请填写标题！"},textCount:[6,25]},{field:"name",type:{required:"请输入作者名称！",chinese:"必须中文"},textCount:[2,9]},{field:"tel",type:{required:"请输入手机号！",tel:"必须是正确的11为手机号"},textCount:[11]},{field:"phone",type:{phone:"必须格式：xxx-xxxxxxx"},textCount:[11]},{field:"phoneTel",type:{required:"请输入座机号码或者手机号码！",phoneTel:"必须格式：xxx-xxxxxxx或者11位手机号"},textCount:[11]},{field:"img",validator:function(e,t,a){""!==t&&t.split(",").length<2?a(new Error("请上传图片至少上传2张!")):a()},type:{required:"请上传图片！"}},{field:"age",type:{number:"必须是数字"},textCount:[1,3]}];return e=this.$verification(e)},formListItem:function(){var e;return[{prop:"title",maxlength:25,placeholder:"请输入文章标题",label:"标题：",type:"text"},{prop:"name",maxlength:3,placeholder:"请输入姓名",label:"姓名：",type:"text"},{prop:"tel",maxlength:11,placeholder:"请输手机号",label:"电话：",type:"text"},{prop:"phone",maxlength:12,placeholder:"请输座机号",label:"客服电话：",type:"text"},{prop:"phoneTel",maxlength:12,placeholder:"请输座机号或者手机号",label:"座机手机：",type:"text"},{prop:"age",maxlength:3,placeholder:"请输入年龄",label:"年龄：",type:"text"},{prop:"des",maxlength:30,placeholder:"请输入描述",label:"描述：",type:"textarea",height:"auto"},{prop:"img",label:"图片1：",type:"imgUpload",placeholder:"图片做多上传3张，建议尺寸：288*188;",uploadParame:{data:{path:"active"},limit:3,action:this.$http+"index.php/main/upload_file"},name:"imglist"},{prop:"state",placeholder:"请选择状态",label:"状态：",type:"select",select:[{text:"已发布",value:"ok"},{text:"未发布",value:"on"}]},(e={prop:"type",label:"爱好：",minlength:0,maxlength:2,type:"text"},U()(e,"type","checkbox"),U()(e,"checkbox",[{text:"兵乓",value:"1"},{text:"唱歌",value:"2"},{text:"听歌",value:"3"},{text:"羽毛球",value:"4"}]),e),{prop:"sex",label:"唯一爱好：",type:"radio",radio:[{text:"兵乓",value:"1"},{text:"唱歌",value:"2"},{text:"听歌",value:"3"},{text:"羽毛球",value:"4"}]},{prop:"open",label:"开关：",type:"switch"},{prop:"datetime",label:"开发日期：",type:"datetime",placeholder:"选择日期时间"},{prop:"datetimerange",label:"时间范围：",type:"daterange",range:"至",startPlaceholder:"开始日期",endPlaceholder:"结束日期"},{prop:"cascader",label:"联动选择：",type:"cascader",placeholder:"选择联动数据",options:[{key:"1",value:"qdkf",label:"前端开发",children:[{value:"css",label:"样式"},{value:"js",label:"javascript",children:[{value:"vue",label:"vue"},{value:"react",label:"react"}]},{value:"html",label:"HTML"}]}]},{prop:"content",label:"内容：",type:"editConten",height:"auto"}]}}},le={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"search-box search-box-bg-null"},[t("CreateForm",{attrs:{inline:this.inline,labelWidth:"100px",rules:this.rules,refNanme:"sbmit",bntText:"提交",formData:this.formData,formListItem:this.formListItem()},on:{eventSubmit:this.onSubmit}})],1)},staticRenderFns:[]};var ce=a("VU/8")(ne,le,!1,function(e){a("1OS7")},"data-v-75322379",null).exports,pe={components:{Upload:f},data:function(){return{imageUrl:[],imgeUrl2:[],imgeUrl3:[],uploadParame1:{data:{path:"admin"},limit:1,action:"index.php/main/upload_file"},uploadParame2:{data:{path:"list"},limit:3,action:"index.php/main/upload_file"},croppParame:{croppersW:"800px",croppersH:"400px",autoCropWidth:"600",autoCropHeight:"200",top:"30vh",topCrop:"20vh"}}},methods:{getImage:function(e){var t=e.set,a=e.imgUrl,i=e.index;"add"===t.type?this[i].push(a):"edit"===t.type?this.$set(this[i],t.index,a):"del"===t.type&&(this[i]=this[i].filter(function(e,a){if(t.index!=a)return e}))}}},de={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"item"},[a("h2",{staticClass:"title"},[e._v("1.单上传图片")]),e._v(" "),a("Upload",{attrs:{item:"imageUrl",name:"img1",imgList:e.imageUrl,parame:e.uploadParame1},on:{onSuccess:e.getImage}})],1),e._v(" "),a("div",{staticClass:"item"},[a("h2",{staticClass:"title"},[e._v("2.单张多上传图片")]),e._v(" "),a("Upload",{attrs:{item:"imgeUrl2",name:"img2",imgList:e.imgeUrl2,parame:e.uploadParame2},on:{onSuccess:e.getImage}})],1),e._v(" "),a("div",{staticClass:"item"},[a("h2",{staticClass:"title"},[e._v("3.图片裁剪上传")]),e._v(" "),a("Upload",{attrs:{croppParame:e.croppParame,isCrop:!0,item:"imgeUrl3",name:"img3",imgList:e.imgeUrl3,parame:e.uploadParame2},on:{onSuccess:e.getImage}})],1)])},staticRenderFns:[]};var ue=a("VU/8")(pe,de,!1,function(e){a("mPrA")},"data-v-809991c0",null).exports,me={components:{CreateForm:re},name:"addForm",data:function(){return{formData:this.setFormData(),rules:this.verification()}},methods:{showFormData:function(e){var t=e.data;if("edit"===e.type){var a=t.row,i=(a.id,a.title),o=a.imgurl,s={title:i,keyword:a.keyword,describe:a.describe,content:a.content,state:"on"!==a.state,img:o,imageUrl:[]};o&&(s.imageUrl=o.split(",")),this.formData=s,this.$refs.myForm.getEditor(s.content,0)}else this.formData=this.setFormData(),this.$refs.myForm.clearEditor(0)},onSubmit:function(e){var t=e.data;this.$emit("evnetPost",t)},setFormData:function(){return{title:"",keyword:"",describe:"",content:"",state:!1,img:"",imageUrl:[]}},verification:function(){var e=[{field:"title",type:{required:"请填写标题！"},textCount:[2,25]},{field:"img",validator:function(e,t,a){""!==t&&t.split(",").length<1?a(new Error("请上传图片至少上传1张!")):a()},type:{required:"请上传图片！"}},{field:"content",validator:function(e,t,a){""!==t&&""===t.replace(/<[^>]*>/g,"")?a(new Error("请输入文章内容!")):a()},type:{required:"请输入文章内容！"}}];return e=this.$verification(e)},formListItem:function(){return[{prop:"title",maxlength:25,placeholder:"请输入文章标题",label:"标题：",type:"text"},{prop:"keyword",maxlength:255,placeholder:"请输入文章关键词(多个用英文逗号隔开)",label:"关键词：",type:"text"},{prop:"describe",maxlength:255,placeholder:"请输入文章摘要",label:"摘要：",type:"textarea",height:"auto"},{prop:"img",label:"图片1：",type:"imgUpload",placeholder:"图片建议尺寸：288*188;",uploadParame:{data:{path:"active"},limit:1,action:"index.php/main/upload_file"},name:"imageUrl"},{prop:"state",label:"是否发布：",type:"switch"},{prop:"content",label:"内容：",type:"editConten"}]}}},he={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"form-box"},[t("CreateForm",{ref:"myForm",attrs:{labelWidth:"90px",rules:this.rules,refNanme:"sbmit",bntText:"提交",formData:this.formData,formListItem:this.formListItem()},on:{eventSubmit:this.onSubmit}})],1)},staticRenderFns:[]};var fe={components:{AddForm:a("VU/8")(me,he,!1,function(e){a("9YCp")},"data-v-50594be9",null).exports},name:"add",data:function(){return{visible:!1,addData:{},title:""}},methods:{submit:function(e){var t=this.addData,a=t.type,i=t.data,o={title:e.title,keyword:e.keyword,describe:e.describe,imgurl:e.img,content:e.content,state:e.state?"ok":"on",type:a};"edit"===a&&(o.id=i.row.id),this.postHttp(o)},handleClose:function(){},close:function(e){this.$emit("resetData",{hideType:e}),this.visible=!1},show:function(e){var t=this;this.addData=e;var a=e.type,i=e.data;"add"===a||"edit"===a?(this.title="add"===a?"添加文章":"编辑文章",this.visible=!0,setTimeout(function(){t.$refs.addform.showFormData(e)},100)):"del"===a?this.postHttp({id:i.row.id,type:a}):"issuer"!==a&&"issuers"!==a||this.postHttp({id:i.row.id,type:a})},postHttp:function(e){var t=this,a=this.$loading({lock:!0,text:"正在处理...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$request({type:"post",url:"index.php/apiAll/addArticle",data:e,success:function(e){a.close(),200==e.code?(t.$message({showClose:!0,message:e.msg,type:"success"}),t.close("update")):t.$message({showClose:!0,message:e.msg,type:"error"})},error:function(e){t.$message.error(e)}})}}},ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{size:"80%",wrapperClosable:!0,"show-close":!1,visible:e.visible,direction:"rtl","custom-class":"drawer-box"},on:{"update:visible":function(t){e.visible=t},close:e.handleClose}},[a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.title)),a("div",{staticClass:"icon",on:{click:function(t){return e.close("hide")}}},[a("i",{staticClass:"el-icon-close"})])]),e._v(" "),a("div",{staticClass:"drawerContent"},[a("AddForm",{ref:"addform",on:{evnetPost:e.submit}})],1)])},staticRenderFns:[]};var ve={components:{PageBott:Z,TbaleList:G,Add:a("VU/8")(fe,ge,!1,function(e){a("yJaj")},"data-v-4e290d1c",null).exports},data:function(){return{title:"",pageMeter:{limit:10,page:1,total:0},tableData:[],column:[{prop:"id",name:"ID",minWidth:100,isShowType:"default"},{prop:"imgurls",name:"缩略图",minWidth:170,isShowType:"img"},{prop:"title",name:"文章标题",minWidth:170,isShowType:"default",isUnfold:!0},{prop:"creater",name:"原创作者",minWidth:170,isShowType:"default"},{prop:"create_time",name:"创建时间",minWidth:170,isShowType:"default"},{prop:"keyword",name:"关键词",isShow:!0,isUnfold:!0},{prop:"describe",name:"文章摘要",isShow:!0,isUnfold:!0},{prop:"issuer",name:"发布人",isShow:!0,isUnfold:!0},{prop:"issuer_time",name:"发布时间",isShow:!0,isUnfold:!0},{prop:"update_time",name:"更新时间",isShow:!0,isUnfold:!0},{prop:"state_text",name:"文章状态",isUnfold:!0},{prop:"state",name:"操作",minWidth:200,align:"center",fixed:"right",isShowType:"btn",btnArr:[{size:"mini",type:"primary",plain:!0,name:"编辑",field:"edit"},{size:"mini",type:"success",plain:!0,name:"发布",field:"issuer",state:"ok"},{size:"mini",type:"warning",plain:!0,name:"取消发布",field:"issuers",state:"on"},{size:"mini",type:"danger",plain:!0,name:"删除",field:"del"}]}]}},created:function(){this.getData(this.searchData())},methods:{resetData:function(e){"update"===e.hideType&&this.getData(this.searchData())},eventOperation:function(e){var t=e.type,a=e.data;this.operation(t,a)},operation:function(e,t){console.log(e,t),this.$refs.add.show({type:e,data:t})},getData:function(e){var t=this,a=this.$loading({lock:!0,text:"加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$request({type:"get",url:"index.php/apiAll/article",data:e,success:function(e){a.close(),200==e.code?(t.tableData=e.data.data,t.pageMeter.total=e.data.count):t.$message({showClose:!0,message:"数据加载失败",type:"error"})},error:function(e){t.$message.error(e)}})},pageChang:function(e){var t=e.limit,a=e.page;this.pageMeter.limit=t,this.pageMeter.page=a,this.getData(this.searchData())},searchData:function(){return{limit:this.pageMeter.limit,page:this.pageMeter.page}}}},be={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"search-box search-box-bg-null"},[a("el-button",{attrs:{type:"primary",size:"small",round:""},on:{click:function(t){return e.operation("add")}}},[e._v("添加文章"),a("i",{staticClass:"el-icon-plus el-icon--right"})])],1),e._v(" "),a("div",{staticClass:"main"},[a("TbaleList",{attrs:{tableData:e.tableData,unfold:!0,column:e.column},on:{tabBtnOperation:e.eventOperation}}),e._v(" "),a("PageBott",{attrs:{pageMeter:e.pageMeter},on:{currChange:e.pageChang}})],1),e._v(" "),a("Add",{ref:"add",on:{resetData:e.resetData}})],1)},staticRenderFns:[]};var _e=a("VU/8")(ve,be,!1,function(e){a("2LNc")},"data-v-d88a7d44",null).exports,ye=a("woOf"),xe=a.n(ye),Ce={name:"tablePage",components:{TbaleList:G,PageBott:Z},data:function(){return{pageMeter:{limit:10,page:1,total:0},tableData:[],column:[{prop:"id",name:"ID",minWidth:100,isShowType:"default"},{prop:"imgurls",name:"缩略图",minWidth:170,isShowType:"img"},{prop:"title",name:"文章标题",minWidth:170,isShowType:"default",isUnfold:!0},{prop:"creater",name:"原创作者",minWidth:170,isShowType:"default"},{prop:"create_time",name:"创建时间",minWidth:170,isShowType:"default"},{prop:"keyword",name:"关键词",isShow:!0,isUnfold:!0},{prop:"describe",name:"文章摘要",isShow:!0,isUnfold:!0},{prop:"issuer",name:"发布人",isShow:!0,isUnfold:!0},{prop:"issuer_time",name:"发布时间",isShow:!0,isUnfold:!0},{prop:"update_time",name:"更新时间",isShow:!0,isUnfold:!0},{prop:"state_text",name:"文章状态",isUnfold:!0},{prop:"state",name:"操作",minWidth:200,align:"center",fixed:"right",isShowType:"btn",btnArr:[{size:"mini",type:"primary",plain:!0,name:"编辑",field:"edit"},{size:"mini",type:"success",plain:!0,name:"发布",field:"issuer",state:"ok"},{size:"mini",type:"warning",plain:!0,name:"取消发布",field:"issuers",state:"on"},{size:"mini",type:"danger",plain:!0,name:"删除",field:"del"}]}]}},props:{extra:Array|Object},mounted:function(){this.loadTable()},methods:{eventOperation:function(e){var t=e.type,a=e.data;this.operation(t,a)},operation:function(e,t){this.$message({showClose:!0,message:"去操作函数",type:"success"})},currChange:function(e){var t=e.limit,a=e.page;this.pageMeter.limit=t,this.pageMeter.page=a,this.loadTable()},loadTable:function(e){e&&(this.pageMeter.page=1);var t=xe()({},this.extra,{limit:this.pageMeter.limit,page:this.pageMeter.page});this.getData(t)},getData:function(e){var t=this,a=this.$loading({lock:!0,text:"加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$request({type:"get",url:"index.php/apiAll/article",data:e,success:function(e){a.close(),200==e.code?(t.tableData=e.data.data,t.pageMeter.total=e.data.count):t.$message({showClose:!0,message:"数据加载失败",type:"error"})},error:function(e){t.$message.error(e)}})}}},we={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("TbaleList",{attrs:{tableData:this.tableData,unfold:!0,column:this.column},on:{tabBtnOperation:this.eventOperation}}),this._v(" "),t("PageBott",{ref:"pageBott",attrs:{pageMeter:this.pageMeter},on:{currChange:this.currChange}})],1)},staticRenderFns:[]};var De={components:{tablePage:a("VU/8")(Ce,we,!1,function(e){a("qe1H")},null,null).exports},data:function(){return{extra:{title:""}}},created:function(){},methods:{tab:function(e){this.extra.title=e,this.$refs.tablePage.loadTable(!0)}}},ke={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"main"},[a("div",[a("el-button",{attrs:{size:"medium",round:""},on:{click:function(t){return e.tab("123")}}},[e._v("中等按钮")]),e._v(" "),a("el-button",{attrs:{size:"small",round:""},on:{click:function(t){return e.tab("啥都发啥")}}},[e._v("小型按钮")]),e._v(" "),a("el-button",{attrs:{size:"mini",round:""},on:{click:function(t){return e.tab("1")}}},[e._v("超小按钮")]),e._v(" "),a("el-button",{attrs:{size:"mini",round:""},on:{click:function(t){return e.tab("")}}},[e._v("全部")]),e._v("\n       "+e._s(e.extra.title)+"\n     ")],1),e._v(" "),a("tablePage",{ref:"tablePage",attrs:{extra:e.extra}})],1)])},staticRenderFns:[]};var $e=a("VU/8")(De,ke,!1,function(e){a("bGod")},"data-v-17b234d9",null).exports,Se=a("uXZL"),Ue=a("JSQk"),ze={data:function(){return{accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",data:[],list:[["姓名","年龄","手机号","身份证"]]}},created:function(){for(var e=0;e<1e4;e++)this.list.push(["张"+(e+1),e+1,"18200213228"+e,"6226251991081"+e])},methods:{upFile:function(e){this.$request({type:"file",url:"main/uploads",data:e,success:function(e){console.log(e)},error:function(e){console.log(e)}})},uploadRequest:function(e){var t=this,a=e.file,i=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice;Math.ceil(a.size/1048576);this.fielSlice(a,function(e,o){for(var s=0;s<o;s++){var r=1048576*s,n=Math.min(a.size,r+1048576),l=new FormData;l.append("file",i.call(a,r,n)),l.append("name",a.name),l.append("index",s),l.append("size",a.size),l.append("hash",e),t.upFile(l)}},function(e){console.log(e)})},fielSlice:function(e,t,a){var i=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,o=e.size,s=(e.name,Math.ceil(o/1048576)),r=0,n=new Ue.ArrayBuffer,l=new FileReader;l.onload=function(a){if(n.append(a.target.result),++r<s){var c=1048576*r,p=c+1048576>=o?o:c+1048576;l.readAsArrayBuffer(i.call(e,c,p))}else{var d=n.end(),u=new Ue;u.append(d),u.append(e.name);var m=u.end();t(m,s)}},l.onerror=function(){console.warn("oops, something went wrong."),a("oops, something went wrong.")};var c=1048576*r,p=c+1048576>=o?o:c+1048576;l.readAsArrayBuffer(i.call(e,c,p))},_export:function(){var e=Se.utils.aoa_to_sheet(this.list),t=Se.utils.book_new();Se.utils.book_append_sheet(t,e,"SheetJS"),Se.writeFile(t,"sheetjs.xlsx")},_import:function(e){var t=this,a=new FileReader;a.readAsBinaryString(e.file),a.onload=function(e){var a=e.currentTarget.result,i=Se.read(a,{type:"binary"}),o=i.SheetNames[0],s=i.Sheets[o],r=Se.utils.sheet_to_json(s,{header:1});t.data=r}},blobSlice:function(e,t,a){return e.slice?e.slice(t,a):e.mozSlice?e.mozSlice(t,a):e.webkitSlice?e.webkitSlice(t,a):null}}},Ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"item"},[a("h2",{staticClass:"title"},[e._v("1.导入")]),e._v(" "),a("el-upload",{staticClass:"upload-demo",attrs:{action:"",accept:e.accept,"http-request":e._import,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("本地导入")])],1),e._v(" "),a("ul",e._l(e.data,function(t,i){return a("li",{key:i},[e._v(e._s(t))])}),0)],1),e._v(" "),a("div",{staticClass:"item"},[a("h2",{staticClass:"title"},[e._v("2.导出")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:e._export}},[e._v("导出")])],1),e._v(" "),a("div",{staticClass:"item"},[a("h2",{staticClass:"title"},[e._v("3.分片上传导入")]),e._v(" "),a("el-upload",{staticClass:"upload-demo",attrs:{action:"",accept:e.accept,"http-request":e.uploadRequest,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"danger"}},[e._v("导入文件")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)])},staticRenderFns:[]};var Ae=a("VU/8")(ze,Ie,!1,function(e){a("u5SB")},null,null).exports;i.default.use(x.a);var Te=new x.a({routes:[{path:"/",name:"home",component:w,meta:{title:"首页",type:"login",keepAlive:!1}},{path:"/admin",name:"admin",component:F,meta:{title:"系统管理-管理员",type:"login",keepAlive:!1}},{path:"/role",name:"role",component:M,meta:{title:"系统管理-角色管理",type:"login",keepAlive:!1}},{path:"/setAdmin",name:"setAdmin",component:W,meta:{title:"系统管理-系统设置",type:"login",keepAlive:!1}},{path:"/auth",name:"auth",component:j,meta:{title:"系统管理-栏目管理",type:"login",keepAlive:!1}},{path:"/login",name:"login",component:$,meta:{title:"系统管理-登录页面",type:"",keepAlive:!1}},{path:"/article",name:"article",component:K,meta:{title:"内容管理-文章管理",type:"login",keepAlive:!1}},{path:"/demoForm",name:"demoForm",component:ce,meta:{title:"演示-form演示",type:"login",keepAlive:!1}},{path:"/demoUpload",name:"demoUpload",component:ue,meta:{title:"演示-图片上传",type:"login",keepAlive:!1}},{path:"/demoTable",name:"demoTable",component:_e,meta:{title:"演示-数据表格",type:"login",keepAlive:!1}},{path:"/dpage",name:"dpage",component:$e,meta:{title:"演示-分页数据",type:"login",keepAlive:!1}},{path:"/dimExport",name:"dimExport",component:Ae,meta:{title:"演示-导入导出",type:"login",keepAlive:!1}}]}),Fe=a("mvHQ"),Pe=a.n(Fe),Re=a("NYxO");i.default.use(Re.a);var Ee={data:{login:!1,active:"0",Breadcrumb:[],userInfo:{},operation:[],menu:[]}};sessionStorage.getItem("state-vuex")&&(Ee=JSON.parse(sessionStorage.getItem("state-vuex")));var Be={setData:function(e,t){e.data=t,Me(e)},setBreadcrumb:function(e,t){e.data.Breadcrumb=t.Breadcrumb,e.data.active=t.active,Me(e)},setlogin:function(e,t){e.data.login=t.login,e.data.userInfo=t.userinfo,Me(e)},setUserinfo:function(e,t){e.data.userInfo[t.key]=t.data,Me(e)},setDataKey:function(e,t){e.data[t.key]=t.data,Me(e)}};function Me(e){window.sessionStorage.setItem("state-vuex",Pe()(e))}var Le=new Re.a.Store({state:Ee,getters:{getData:function(e){return e.data}},mutations:Be,actions:{setDatas:function(e,t){e.commit("setData",t)},setBreadcrumbs:function(e,t){e.commit("setBreadcrumb",t)},setlogins:function(e,t){e.commit("setlogin",t)},setUserinfos:function(e,t){e.commit("setUserinfo",t)},setDataKeys:function(e,t){e.commit("setDataKey",t)}}}),qe=Le.getters.getData,We=qe.userInfo,Oe=qe.operation,Ve={base_url:"http://vue.admin.com:8888/",site_url:"http://vue.admin.com:8888/",userSID:We.id,user_name:We.user_name,user_pass:"qdvld",handleVerify:function(e){return Oe.some(function(t){return t.name===e})}},je=a("mtWM"),Ne=a.n(je),He=a("mw3O"),Ze=a.n(He),Xe=Ve.site_url,Ye=Ve.userSID,Ge={username:Ve.user_name,password:Ve.user_pass},Je=Ne.a.create({auth:Ge,baseURL:Xe,withCredentials:!0,responseType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:[function(e){return e&&(e=Ze.a.stringify(e)),e}]});var Qe=[];function Ke(e){var t={};return e.map(function(e,a){var i={length:{min:0,max:100,message:"长度在2到6个字符",trigger:"blur"},required:{required:!0,message:"",trigger:"blur"},chinese:{validator:function(e,t,a){/[^\u4E00-\u9FA5]/g.test(t)?a(new Error(e.message)):a()},trigger:"blur",message:""},strAZaz:{validator:function(e,t,a){/^[a-zA-Z]+$/.test(t)?a():a(new Error(e.message))},trigger:"blur",message:""},tel:{validator:function(e,t,a){/^1[3456789]\d{9}$/.test(t)?a():a(new Error(e.message))},trigger:"blur",message:""},phone:{validator:function(e,t,a){var i=/^0\d{2,3}-?\d{7,8}$/.test(t)||/^4\d{2,3}-?\d{7,8}$/.test(t)||/^8\d{2,3}-?\d{7,8}$/.test(t);""===t||i?a():a(new Error(e.message))},trigger:"blur",message:""},phoneTel:{validator:function(e,t,a){var i=/^1[3456789]\d{9}$/.test(t)||/^0\d{2,3}-?\d{7,8}$/.test(t)||/^4\d{2,3}-?\d{7,8}$/.test(t)||/^8\d{2,3}-?\d{7,8}$/.test(t);""===t||i?a():a(new Error(e.message))},trigger:"blur",message:""},number:{validator:function(e,t,a){/[^\d]/g.test(t)?a(new Error(e.message)):a()},trigger:"blur",message:""},custom:{validator:null,trigger:"blur",message:""}};if(t[e.field]=[],e.type)for(var o in e.type){var s=i[o];s.message=e.type[o],t[e.field].push(s)}var r=e.validator;"function"==typeof r&&(i.custom.validator=r,"change"===e.trigger&&(i.custom.trigger="change"),t[e.field].push(i.custom));var n=e.textCount,l=e.lengthText;n&&(1==n.length&&(i.length.min=n[0]),2==n.length&&(i.length.min=n[0],i.length.max=n[1]),l?i.length.message=l:(i.length.min&&(l="至少输入"+i.length.min+"个字符"),i.length.max&&(l?l+=",最大输入"+i.length.max+"个字符":l="最大输入"+i.length.max+"个字符"),i.length.message=l),t[e.field].push(i.length))}),t}var et=a("zL8q"),tt=a.n(et);a("tvR6"),a("+WGh");i.default.config.productionTip=!1,i.default.prototype.$http=Ve.base_url,i.default.prototype.$handleVerify=Ve.handleVerify,i.default.prototype.$api={login:"api/login",code:"main/getCode",addAdmin:"api/addAdmin",admin:"api/admin",role:"api/role",addRole:"api/addRole",getLog:"api/getLog",upload:"main/upload_file"},i.default.prototype.$request=function(e){var t=e.type,a=e.url,i=e.data,o=e.success,s=e.error;return"file"!=t&&Ye&&(i=xe()({},i,{userSID:Ye})),"get"===t?function(e,t,a,i){Je.get(e,{params:t}).then(function(e){200===e.status?a(e.data):i("请求发生错误,请检查接口异常!")}).catch(function(e){i("当前环境网络较差!")})}(a,i,o,s):"post"===t?function(e,t,a,i){Je.post(e,t).then(function(e){200===e.status?a(e.data):i("请求发生错误,请检查接口异常!")}).catch(function(e){i("当前环境网络较差!")})}(a,i,o,s):"file"===t?function(e,t,a,i){var o={baseURL:Xe,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var t=(e.loaded/e.total*100|0)+"%";console.log(t)}};Qe.push(Ne.a.post(e,t,o)),Ne.a.all(Qe).then(function(e){a(e)}).catch(function(e){i("当前环境网络较差!")})}(a,i,o,s):void 0},i.default.prototype.$verification=function(e){return Ke(e)},i.default.use(tt.a),Te.beforeEach(function(e,t,a){e.meta.title&&(document.title=e.meta.title),e.meta.type?Le.getters.getData.login?a():a("/login"):Le.getters.getData.login?a("/"):a()}),new i.default({el:"#app",router:Te,store:Le,components:{App:y},template:"<App/>"})},OXQ2:function(e,t){},PgLk:function(e,t){},XF6T:function(e,t){},"XP+D":function(e,t){},YdVF:function(e,t){},aCEC:function(e,t){},bGod:function(e,t){},"lR+a":function(e,t){},mPrA:function(e,t){},"nA/X":function(e,t){},p4V0:function(e,t){},qe1H:function(e,t){},rR9q:function(e,t){},tvR6:function(e,t){},u5SB:function(e,t){},uCGw:function(e,t){},yJaj:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.df7fa262d3b523cc7fdc.js.map